"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8673],{8673:(j,p,l)=>{l.r(p),l.d(p,{DetalleEstPageModule:()=>C});var d=l(177),h=l(4341),a=l(4742),f=l(6755),m=l(467),e=l(4438),_=l(1094);function E(t,s){if(1&t){const i=e.RV6();e.j41(0,"img",19),e.bIt("error",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.imgPerfil="assets/img/default-user.png")}),e.k0s()}if(2&t){const i=e.XpG();e.Y8G("src",i.imgPerfil,e.B4B)}}function b(t,s){if(1&t&&(e.j41(0,"ion-card",20)(1,"ion-card-header"),e.nrm(2,"img",21),e.j41(3,"ion-card-title"),e.EFF(4),e.k0s()(),e.j41(5,"ion-card-content")(6,"p"),e.EFF(7),e.k0s(),e.j41(8,"div",22)(9,"p")(10,"strong"),e.EFF(11,"Profesor:"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Correo:"),e.k0s(),e.EFF(16),e.k0s()()()()),2&t){const i=e.XpG();e.R7$(2),e.Y8G("src",i.curso.imagen,e.B4B),e.R7$(2),e.JRh(i.curso.nombre),e.R7$(3),e.JRh(i.curso.descripcion),e.R7$(5),e.SpI(" ",null==i.curso.usuario?null:i.curso.usuario.nombre_completo,""),e.R7$(4),e.SpI(" ",null==i.curso.usuario?null:i.curso.usuario.correo,"")}}function v(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()(),e.j41(6,"ion-button",24),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG(2);return e.Njj(n.verDetallesAnuncio(o))}),e.EFF(7,"Ver"),e.k0s()()}if(2&t){const i=s.$implicit;e.R7$(3),e.JRh(i.titulo),e.R7$(2),e.JRh(i.mensaje)}}function P(t,s){if(1&t&&(e.j41(0,"ion-list")(1,"ion-list-header")(2,"ion-label"),e.EFF(3,"Anuncios del Curso"),e.k0s()(),e.DNE(4,v,8,2,"ion-item",23),e.k0s()),2&t){const i=e.XpG();e.R7$(4),e.Y8G("ngForOf",i.anuncios)}}function D(t,s){1&t&&(e.j41(0,"p",25),e.EFF(1,"No hay anuncios disponibles."),e.k0s())}const F=[{path:"",component:(()=>{var t;class s{constructor(r,o,n,u,g){this.route=r,this.authService=o,this.router=n,this.alertController=u,this.location=g,this.clases=[],this.anuncios=[],this.inasistencias=[],this.imgPerfil="",this.nombreCompleto="",this.perfil="";const c=this.router.getCurrentNavigation();null!=c&&c.extras.state&&(this.curso=c.extras.state.curso,console.log("Datos del curso recibido en DetalleEstPage:",this.curso))}ngOnInit(){var r;const o=(null===(r=this.curso)||void 0===r?void 0:r.id)||this.route.snapshot.paramMap.get("id");console.log("ID del curso en DetalleEstPage:",o),o&&(this.cargarDetalleCurso(o),this.cargarAnunciosDelCurso(o)),this.cargarDatosUsuario()}cargarDatosUsuario(){var r=this;return(0,m.A)(function*(){try{(yield r.authService.getUserInfo()).subscribe(n=>{var u,g,c;console.log("Datos del usuario:",n),r.imgPerfil=(null==n||null===(u=n.data)||void 0===u?void 0:u.img)||"assets/img/default-user.png",r.nombreCompleto=(null==n||null===(g=n.data)||void 0===g?void 0:g.nombre_completo)||"Usuario",r.perfil=(null==n||null===(c=n.data)||void 0===c?void 0:c.perfil)||"Perfil no definido"},n=>{console.error("Error al cargar los datos del usuario:",n)})}catch(o){console.error("Error al obtener los datos del usuario:",o)}})()}cargarDetalleCurso(r){var o=this;return(0,m.A)(function*(){try{const n=yield o.authService.getCursoPorID(r);n&&n.curso?o.curso=n.curso:console.error("La respuesta no contiene la informaci\xf3n del curso esperada:",n)}catch(n){console.error("Error al solicitar los detalles del curso:",n)}})()}cargarAnunciosDelCurso(r){var o=this;return(0,m.A)(function*(){console.log("Cargando anuncios para el curso con ID:",r);try{const n=yield o.authService.getAnunciosPorCursoId(r);n&&n.length>0?(o.anuncios=n,console.log("Anuncios cargados:",o.anuncios)):(console.log("No hay anuncios para este curso."),o.anuncios=[])}catch(n){console.error("Error al cargar los anuncios del curso:",n)}})()}verDetallesAnuncio(r){var o=this;return(0,m.A)(function*(){yield(yield o.alertController.create({header:r.titulo,message:r.mensaje,buttons:["OK"]})).present()})()}irACambiarContrasena(){console.log("Navegando a la p\xe1gina de cambiar contrase\xf1a"),this.router.navigate(["/profile"])}cerrarSesion(){confirm("\xbfDesea cerrar sesi\xf3n?")&&(console.log("Sesi\xf3n cerrada"),this.router.navigate(["/login"]))}regresar(){console.log("Regresando a la p\xe1gina anterior"),this.location.back()}}return(t=s).\u0275fac=function(r){return new(r||t)(e.rXU(f.nX),e.rXU(_.u),e.rXU(f.Ix),e.rXU(a.hG),e.rXU(d.aZ))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-detalle-est"]],decls:35,vars:9,consts:[["side","end","contentId","main-content","swipeGesture","true"],[1,"perfil-container"],["alt","Imagen de perfil","class","img-perfil",3,"src","error",4,"ngIf"],[1,"perfil-info"],[1,"ion-padding"],[3,"click"],["name","person-outline","slot","start"],[1,"danger-item",3,"click"],["name","log-out-outline","slot","start"],["id","main-content",3,"fullscreen"],["id","background"],[3,"translucent"],["slot","start"],["name","arrow-back-outline","slot","icon-only"],["slot","end"],[1,"container"],["class","info-card",4,"ngIf"],[4,"ngIf"],["class","no-data-message",4,"ngIf"],["alt","Imagen de perfil",1,"img-perfil",3,"error","src"],[1,"info-card"],["alt","Imagen del curso",3,"src"],[1,"user-info"],[4,"ngFor","ngForOf"],["slot","end","color","tertiary",3,"click"],[1,"no-data-message"]],template:function(r,o){1&r&&(e.j41(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"div",1),e.DNE(4,E,1,1,"img",2),e.j41(5,"div",3)(6,"h3"),e.EFF(7),e.k0s(),e.j41(8,"p"),e.EFF(9),e.k0s()()()()(),e.j41(10,"ion-content",4)(11,"ion-list")(12,"ion-item",5),e.bIt("click",function(){return o.irACambiarContrasena()}),e.nrm(13,"ion-icon",6),e.j41(14,"ion-label"),e.EFF(15,"Perfil"),e.k0s()(),e.j41(16,"ion-item",7),e.bIt("click",function(){return o.cerrarSesion()}),e.nrm(17,"ion-icon",8),e.j41(18,"ion-label"),e.EFF(19,"Cerrar sesi\xf3n"),e.k0s()()()()(),e.j41(20,"ion-content",9),e.nrm(21,"div",10),e.j41(22,"ion-header",11)(23,"ion-toolbar")(24,"ion-buttons",12)(25,"ion-button",5),e.bIt("click",function(){return o.regresar()}),e.nrm(26,"ion-icon",13),e.k0s()(),e.j41(27,"ion-title"),e.EFF(28),e.k0s(),e.j41(29,"ion-buttons",14),e.nrm(30,"ion-menu-button"),e.k0s()()(),e.j41(31,"div",15),e.DNE(32,b,17,5,"ion-card",16)(33,P,5,1,"ion-list",17)(34,D,2,0,"p",18),e.k0s()()),2&r&&(e.R7$(4),e.Y8G("ngIf",o.imgPerfil),e.R7$(3),e.JRh(o.nombreCompleto||"Usuario"),e.R7$(2),e.JRh(o.perfil||"Perfil no definido"),e.R7$(11),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("translucent",!0),e.R7$(6),e.JRh((null==o.curso?null:o.curso.nombre)||"Detalle del Curso"),e.R7$(4),e.Y8G("ngIf",o.curso),e.R7$(),e.Y8G("ngIf",o.anuncios.length>0),e.R7$(),e.Y8G("ngIf",0===o.anuncios.length))},dependencies:[d.Sq,d.bT,a.Jm,a.QW,a.b_,a.I9,a.ME,a.tN,a.W9,a.eU,a.iq,a.uz,a.he,a.nf,a.AF,a.oS,a.MC,a.BC,a.ai],styles:['@charset "UTF-8";#background[_ngcontent-%COMP%]{background-image:url(bg-app.d9ecfab934784f63.jpg);background-size:cover;background-position:center;background-attachment:fixed;position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1}.container[_ngcontent-%COMP%]{background:#fff0;border-radius:12px;padding:16px;box-shadow:0 4px 8px #0000001a;max-width:800px;margin:16px auto}.perfil-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding:16px}.img-perfil[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;border:3px solid #007bff}.perfil-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:#333}.perfil-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#555}.info-card[_ngcontent-%COMP%]{margin-bottom:16px}']}),s})()}];let k=(()=>{var t;class s{}return(t=s).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.iI.forChild(F),f.iI]}),s})(),C=(()=>{var t;class s{}return(t=s).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.MD,h.YN,a.bv,k]}),s})()}}]);