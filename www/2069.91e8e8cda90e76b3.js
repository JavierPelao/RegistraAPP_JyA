"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2069],{2069:(v,p,i)=>{i.r(p),i.d(p,{HomePageModule:()=>P});var f=i(177),l=i(4742),d=i(4341),u=i(6755),g=i(467),e=i(4438),m=i(1094);const h=[{path:"",component:(()=>{var o;class c{constructor(t,n,r){this.alertController=t,this.router=n,this.authService=r,this.correo="",this.password="",this.perfil=""}login(){var t=this;this.authService.login(this.correo,this.password).subscribe(function(){var n=(0,g.A)(function*(r){if(r.auth&&r.auth.token){yield t.authService.saveToken(r.auth.token);const a=r.data.perfil;"estudiante"===a?t.router.navigate(["/welcomealum"]):"docente"===a?t.router.navigate(["/welcome"]):(console.error("Perfil desconocido o faltante:",a),yield(yield t.alertController.create({header:"Error",message:"Perfil desconocido. No se puede redirigir.",buttons:["OK"]})).present()),yield t.authService.saveUserProfile(a,r.data.nombre_completo)}else yield(yield t.alertController.create({header:"Error",message:"Correo o contrase\xf1a incorrectos",buttons:["OK"]})).present()});return function(r){return n.apply(this,arguments)}}(),function(){var n=(0,g.A)(function*(r){yield(yield t.alertController.create({header:"Error",message:"Error en el servidor. Por favor, intenta de nuevo m\xe1s tarde.",buttons:["OK"]})).present(),console.error("Error en el inicio de sesi\xf3n:",r)});return function(r){return n.apply(this,arguments)}}())}recoveryPassword(){this.router.navigate(["/recuperar"],{queryParams:{username:this.correo}})}presentAlert(t){var n=this;return(0,g.A)(function*(){yield(yield n.alertController.create({header:"Alerta",subHeader:"",message:t,buttons:["OK"]})).present()})()}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(l.hG),e.rXU(u.Ix),e.rXU(m.u))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:18,vars:4,consts:[["fullscreen","true"],["id","content"],["id","container-home-cont"],["label","Nombre de Usuario","label-placement","floating","type","text","placeholder","Usuario","rrorText","Nombre de usuario incorrecto","maxlength","35","minlength","5","s","",3,"ngModelChange","counter","ngModel"],["label","Contrase\xf1a","label-placement","floating","type","password","placeholder","********","errorText","Contrase\xf1a No Valida","minlength","6","maxlength","20",3,"ngModelChange","counter","ngModel"],["expand","block",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card",2)(3,"ion-card-header")(4,"ion-card-title"),e.EFF(5,"RegistrAPP"),e.k0s(),e.j41(6,"ion-card-title"),e.EFF(7,"Inicio De Sesi\xf3n"),e.k0s()(),e.j41(8,"ion-item")(9,"ion-input",3),e.mxI("ngModelChange",function(a){return e.DH7(n.correo,a)||(n.correo=a),a}),e.k0s()(),e.nrm(10,"br"),e.j41(11,"ion-item")(12,"ion-input",4),e.mxI("ngModelChange",function(a){return e.DH7(n.password,a)||(n.password=a),a}),e.k0s()(),e.nrm(13,"br"),e.j41(14,"ion-button",5),e.bIt("click",function(){return n.login()}),e.EFF(15,"Iniciar Sesi\xf3n"),e.k0s(),e.j41(16,"ion-button",5),e.bIt("click",function(){return n.recoveryPassword()}),e.EFF(17,"Recuperar Contrase\xf1a"),e.k0s()()()()),2&t&&(e.R7$(9),e.Y8G("counter",!0),e.R50("ngModel",n.correo),e.R7$(3),e.Y8G("counter",!0),e.R50("ngModel",n.password))},dependencies:[d.BC,d.xh,d.tU,d.vS,l.Jm,l.b_,l.ME,l.tN,l.W9,l.$w,l.uz,l.Gw],styles:['@charset "UTF-8";#content[_ngcontent-%COMP%]{background-image:url(bg-app.d9ecfab934784f63.jpg);font:sans-serif;height:100vh;width:100%;min-height:100vh;background-size:cover;background-position:center;display:flex}#container-home-cont[_ngcontent-%COMP%]{--background: #d7d8d448;font-size:16px;line-height:20px;color:#fff;padding:15px;max-width:350px;min-width:80%;height:100vh;max-height:470px;margin:auto;border-radius:20px;position:relative;background-size:cover}ion-item[_ngcontent-%COMP%]{--background: #232423;--color: #c1c1c100;--border-color: #00000000;--border-radius: 15px}ion-toolbar[_ngcontent-%COMP%]{--background: #232423}ion-input[_ngcontent-%COMP%]{--background: #232423;--color: #ffffff;--border-color: #00000000;--border-radius: 10px;--padding-start: 15px;--padding-end: 15px;--padding-top: 5px;--padding-bottom: 10px}ion-title[_ngcontent-%COMP%]{color:#fff;font-size:35px;text-align:center}ion-card-title[_ngcontent-%COMP%]{color:#fff;font-size:35px;text-align:center}ion-card-header[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{--background: #232423;--color: #ffffff;font:1em sans-serif;--border-color: #00000000;--border-radius: 10px;--padding-start: 15px;--padding-end: 15px;--padding-top: 5px;--padding-bottom: 10px}ion-tab-bar[_ngcontent-%COMP%]{--background: #1c1c1e}ion-tab-button[_ngcontent-%COMP%]{--color-selected: #1df47a;--color: #ffffff}']}),c})()},{path:"recuperar",loadChildren:()=>i.e(7659).then(i.bind(i,7659)).then(o=>o.RecuperarPageModule)}];let b=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(h),u.iI]}),c})(),P=(()=>{var o;class c{}return(o=c).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[f.MD,d.YN,l.bv,b]}),c})()}}]);