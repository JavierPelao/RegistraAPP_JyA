"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2373],{2373:(v,d,a)=>{a.r(d),a.d(d,{ProfilePageModule:()=>F});var g=a(177),f=a(4341),r=a(4742),p=a(6755),u=a(467),m=a(3207),e=a(4438),P=a(1094);const h=[{path:"",component:(()=>{var t;class i{constructor(n,o,l,c,b){this.router=n,this.alertController=o,this.menu=l,this.authService=c,this.location=b,this.perfilData={},this.nuevaContrasena="",this.nombreCompleto="",this.perfil="",this.correoUsuario="",this.imgPerfil="",this.run=""}ngOnInit(){var n=this;return(0,u.A)(function*(){try{const o=yield(0,m.s)(yield n.authService.getUserInfo());null!=o&&o.data?(n.perfilData=o.data,n.nombreCompleto=n.perfilData.nombre_completo||"Usuario",n.perfil=n.perfilData.perfil||"No definido",n.correoUsuario=n.perfilData.correo||"Correo no disponible",n.imgPerfil=n.perfilData.img||"assets/img/default-profile.png",n.run=n.perfilData.run||"RUN no disponible"):console.error("Error: La respuesta no contiene datos.")}catch(o){console.error("Error al cargar la informaci\xf3n del perfil:",o)}})()}regresar(){""!==this.location.path()?this.location.back():this.router.navigate(["/welcome"])}cambiarContrasena(){var n=this;return(0,u.A)(function*(){if(n.nuevaContrasena)try{const o=yield(0,m.s)(yield n.authService.cambiarContrasena({password:n.nuevaContrasena}));console.log("Contrase\xf1a cambiada exitosamente:",o),n.mostrarAlerta("\xc9xito","Contrase\xf1a cambiada exitosamente."),n.nuevaContrasena=""}catch(o){console.error("Error en el proceso de cambio de contrase\xf1a:",o),n.mostrarAlerta("Error","Hubo un problema al cambiar la contrase\xf1a.")}else n.mostrarAlerta("Error","Por favor, ingrese una nueva contrase\xf1a.")})()}mostrarAlerta(n,o){var l=this;return(0,u.A)(function*(){yield(yield l.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}cerrarSesion(){confirm("\xbfDesea cerrar sesi\xf3n?")&&this.router.navigate(["/login"])}openMenu(){this.menu.open()}}return(t=i).\u0275fac=function(n){return new(n||t)(e.rXU(p.Ix),e.rXU(r.hG),e.rXU(r._t),e.rXU(P.u),e.rXU(g.aZ))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-profile"]],decls:57,vars:8,consts:[["fullscreen","true"],["id","content"],["side","end","contentId","main-content"],[1,"perfil-container"],["alt","Imagen de perfil",1,"img-perfil",3,"src"],[1,"perfil-info"],[1,"ion-padding"],[3,"click"],["name","log-out-outline","slot","start"],["id","main-content"],["slot","start",3,"click"],["name","arrow-back-outline","slot","icon-only"],["position","stacked"],["type","password","placeholder","Ingrese nueva contrase\xf1a",3,"ngModelChange","ngModel"],["expand","block","color","primary",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"ion-menu",2)(3,"ion-header")(4,"ion-toolbar")(5,"div",3),e.nrm(6,"img",4),e.j41(7,"div",5)(8,"h3"),e.EFF(9),e.k0s(),e.j41(10,"p"),e.EFF(11),e.k0s()()()()(),e.j41(12,"ion-content",6)(13,"ion-list")(14,"ion-item",7),e.bIt("click",function(){return o.cerrarSesion()}),e.nrm(15,"ion-icon",8),e.j41(16,"ion-label"),e.EFF(17,"Cerrar sesi\xf3n"),e.k0s()()()()(),e.j41(18,"div",9)(19,"ion-header")(20,"ion-toolbar")(21,"ion-button",10),e.bIt("click",function(){return o.regresar()}),e.nrm(22,"ion-icon",11),e.k0s(),e.j41(23,"ion-title"),e.EFF(24,"Perfil"),e.k0s()()(),e.j41(25,"ion-card")(26,"ion-card-header")(27,"ion-card-title"),e.EFF(28,"Datos del Usuario"),e.k0s()(),e.j41(29,"ion-card-content")(30,"p")(31,"strong"),e.EFF(32,"Nombre:"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"p")(35,"strong"),e.EFF(36,"Correo:"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"p")(39,"strong"),e.EFF(40,"RUN:"),e.k0s(),e.EFF(41),e.k0s(),e.j41(42,"p")(43,"strong"),e.EFF(44,"Perfil:"),e.k0s(),e.EFF(45),e.k0s()()(),e.j41(46,"ion-card")(47,"ion-card-header")(48,"ion-card-title"),e.EFF(49,"Cambiar Contrase\xf1a"),e.k0s()(),e.j41(50,"ion-card-content")(51,"ion-item")(52,"ion-label",12),e.EFF(53,"Nueva Contrase\xf1a"),e.k0s(),e.j41(54,"ion-input",13),e.mxI("ngModelChange",function(c){return e.DH7(o.nuevaContrasena,c)||(o.nuevaContrasena=c),c}),e.k0s()(),e.j41(55,"ion-button",14),e.bIt("click",function(){return o.cambiarContrasena()}),e.EFF(56," Cambiar Contrase\xf1a "),e.k0s()()()()()()),2&n&&(e.R7$(6),e.Y8G("src",o.imgPerfil,e.B4B),e.R7$(3),e.JRh(o.nombreCompleto),e.R7$(2),e.JRh(o.perfil),e.R7$(22),e.SpI(" ",o.nombreCompleto,""),e.R7$(4),e.SpI(" ",o.correoUsuario,""),e.R7$(4),e.SpI(" ",o.run,""),e.R7$(4),e.SpI(" ",o.perfil,""),e.R7$(9),e.R50("ngModel",o.nuevaContrasena))},dependencies:[f.BC,f.vS,r.Jm,r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.nf,r.oS,r.BC,r.ai,r.Gw],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #ffffff;color:#000}.perfil-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px;margin-bottom:5px}.img-perfil[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:10px}.perfil-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#000}.perfil-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#000}ion-card[_ngcontent-%COMP%]{margin:5px;padding:5px}ion-card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:5px;margin-bottom:5px}ion-card-title[_ngcontent-%COMP%]{color:#000;font-size:18px}ion-card-content[_ngcontent-%COMP%]{margin:5px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#000;margin:2px 0}ion-item[_ngcontent-%COMP%]{--background: #ffffff;color:#000;padding:5px;margin-bottom:5px}ion-button[_ngcontent-%COMP%]{--background: #007bff;color:#fff;padding:8px;margin-top:5px;margin-bottom:5px}']}),i})()}];let C=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.iI.forChild(h),p.iI]}),i})(),F=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,f.YN,r.bv,C]}),i})()}}]);